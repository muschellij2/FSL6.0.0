<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>FEAT/FAQ</title>
<link rel="stylesheet" type="text/css" media="all" charset="utf-8" href="fsl/css/common.css">
<link rel="stylesheet" type="text/css" media="screen" charset="utf-8" href="fsl/css/screen.css">
<link rel="stylesheet" type="text/css" media="print" charset="utf-8" href="fsl/css/print.css">
<style type="text/css">
ul.pagetitle{
  display: inline;
  margin: 0;
  padding: 0;
  font-size: 1.5em;
}
li.pagetitle{
  display: inline;
  margin: 0;
}
td.noborder {
  border: 0;
}
</style>
</head>
<body>
<table>
<tr>
<td class="noborder">
<img src="logo.png">
</td>
<td class="noborder">
<ul class="pagetitle">
<li class="pagetitle"><a class="backlink">FEAT/FAQ</a>
</ul>
<br><br>
[<a href="FSL.html">FSL</a>]&nbsp;[<a href="TitleIndex.html">TitleIndex</a>]&nbsp;[<a href="WordIndex.html">WordIndex</a>]&nbsp;
</td>
</tr>
</table>
<hr>
<div id="page">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867"><div class="FslToolContents">
<h1>Contents</h1>
<ol><li><a href="./FEAT.html">Introduction</a></li><li><a href="./FEAT(2f)UserGuide.html">User Guide</a></li><li>FAQ<div class="contentslist"><div class="table-of-contents"><p class="table-of-contents-heading">Contents<ol><li>
<a href="#How_long_does_it_take_FEAT_to_analyse_a_data-set.3F">How long does it take FEAT to analyse a data-set?</a></li><li>
<a href="#Can_I_use_FEAT_to_analyse_fmri_data_from_an_animal_study.3F">Can I use FEAT to analyse fmri data from an animal study?</a></li><li>
<a href="#Can_I_use_FEAT_to_analyse_PET_data.3F">Can I use FEAT to analyse PET data?</a></li><li>
<a href="#How_do_I_analyse_a_.22sparse-sampling.22_dataset.3F">How do I analyse a &quot;sparse-sampling&quot; dataset?</a><ol><li>
<a href="#SIMPLE_MODELLING">SIMPLE MODELLING</a></li><li>
<a href="#A.22FULL.22_MODELLING">&quot;FULL&quot; MODELLING</a></li></ol></li><li>
<a href="#What_is_FLAME_and_when_do_I_use_it.3F">What is FLAME and when do I use it?</a></li><li>
<a href="#A_file_not_found_error_occurs_during_my_FEAT_run_-_what_do_I_do.3F">A file not found error occurs during my FEAT run - what do I do?</a></li><li>
<a href="#Can_I_ignore_time_points_or_use_a_dummy_EV_to_model_missing_values_in_FEAT.3F">Can I ignore time points or use a dummy EV to model missing values in FEAT?</a></li><li>
<a href="#FEAT_says_my_design_is_rank_deficient_-_why.3F">FEAT says my design is rank deficient - why?</a></li><li>
<a href="#What_contrast_should_I_use_to_get_....3F">What contrast should I use to get ...?</a></li><li>
<a href="#What.27s_the_right_terminology_for_.22sessions.22.2C_.22runs.22_etc.3F">What's the right terminology for &quot;sessions&quot;, &quot;runs&quot; etc?</a></li><li>
<a href="#What_does_orthogonalisation_of_EVs_mean.2C_and_when_do_I_use_it.3F">What does orthogonalisation of EVs mean, and when do I use it?</a></li><li>
<a href="#When_do_you_add_temporal_derivatives_and_what_are_they_for.3F">When do you add temporal derivatives and what are they for?</a></li><li>
<a href="#Are_the_results_obtained_using_temporal_derivatives_biased.3F">Are the results obtained using temporal derivatives biased?</a></li><li>
<a href="#What_are_the_red_lines_in_the_registration_results.3F">What are the red lines in the registration results?</a></li><li>
<a href="#Can_I_use_my_own_.28study-specific.29_template_image_instead_of_the_avg152.3F">Can I use my own (study-specific) template image instead of the avg152?</a></li><li>
<a href="#Are_the_mm_coordinates_reported_by_FEAT_in_MNI_space_or_Talariach_space.3F">Are the mm coordinates reported by FEAT in MNI space or Talariach space?</a></li><li>
<a href="#How_can_I_insert_a_custom_registration_into_a_FEAT_analysis.3F">How can I insert a custom registration into a FEAT analysis?</a></li><li>
<a href="#How_do_I_run_FEAT_on_single-slice_data.3F">How do I run FEAT on single-slice data?</a></li><li>
<a href="#How_do_I_run_higher-level_FEAT_when_some_inputs_are_first-level_and_some_are_higher-level.3F">How do I run higher-level FEAT when some inputs are first-level and some are higher-level?</a></li><li>
<a href="#How_are_motion_parameters_and_other_confound_EV_files_processed_with_respect_to_filtering.3F">How are motion parameters and other confound EV files processed with respect to filtering?</a></li><li>
<a href="#Can_I_use_an_old_design.fsf_-_from_a_previous_version_of_FSL.3F">Can I use an old design.fsf - from a previous version of FSL?</a></li></ol></div></div></li></ol></div> <span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><p class="line867">
<h1 id="How_long_does_it_take_FEAT_to_analyse_a_data-set.3F">How long does it take FEAT to analyse a data-set?</h1>
<span class="anchor" id="line-4"></span><p class="line862">There are many factors that affect how long FEAT takes to analyse a data-set. These include the speed of the machine, the amount of RAM and swap space available, the number of time points, the amount of activation present and the number of voxels in the data. In addition, higher level analyses take longer since first level analyses are carried out in native EPI space whilst higher level analyses are carried out in standard space and use FLAME - a sophisticated Bayesian mixed-effects estimation technique. Hence it is very difficult to give an accurate estimation for the length of time that FEAT should run. As a very rough guide, <a href="./FSL(20)FAQ.html#How_do_I_get_and_run_FEEDS.3F">FEEDS</a> includes (among other tests) a first level analysis with 180 time points and 64 x 64 x 21 voxels which takes less than 30 minutes on a modern PC (Athlon 2GHz) - for other machines see the <a class="http" href="http://www.fmrib.ox.ac.uk/fsl/feeds/doc/timings.html">FEEDS Timing Results</a>. Higher level analyses is slower than this, and can often take 1-3 hours on a modern PC with a standard group size of 6-12 subjects. <span class="anchor" id="line-5"></span><span class="anchor" id="line-6"></span><p class="line867">
<h1 id="Can_I_use_FEAT_to_analyse_fmri_data_from_an_animal_study.3F">Can I use FEAT to analyse fmri data from an animal study?</h1>
<span class="anchor" id="line-7"></span><p class="line862">Analysing animal data in FEAT is, in theory, straightforward although there are some practical difficulties. The basic GLM and statistics are no different for animal data, however difficulties can occur during preprocessing - particularly with motion correction and brain extraction. One reason that problems occur is due to the scales used in motion correction, which starts at 8mm and is often too large for animal brains (e.g. rats). A work-around for this is to modify the voxel size recorded in the Analyze header (using <tt class="backtick">fslchpixdim</tt>) so that the total brain size is similar to that of a human (150-200mm in each dimension). Once this is done note that all values entered into FEAT in mm will refer to this expanded image, hence the spatial smoothing should be set taking this into account. <span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><p class="line874">Problems with brain extraction are more serious and for animals with brains that are considerably different from humans (e.g. rats) then BET normally will not work. In such cases it is necessary to turn off brain extraction in the pre-stats and, if necessary, perform it manually or with some other specific software. <span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span><p class="line874">Note that we do not supply any standard or template images for animals, and although &quot;Talairach&quot; coordinates will still be reported, they are meaningless. If an animal-specific template image is available it can easily be used as the Standard Space image and all registrations should work correctly once the voxel size change (see above) has been made. <span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><p class="line867">
<h1 id="Can_I_use_FEAT_to_analyse_PET_data.3F">Can I use FEAT to analyse PET data?</h1>
<span class="anchor" id="line-14"></span><p class="line874">It is possible to use FEAT for analysing PET data although the default settings are designed for FMRI data and need modification. In particular: turn on intensity normalisation; turn off slice timing correction; use a higher value for spatial smoothing (8mm or more); turn convolution (with either basis functions or the HRF) off for each EV; do not include temporal derivatives nor high pass filtering (as PET doesn't have the issues of aliasing nor temporal drift); and, similarly, turn pre-whitening off (no FILM) because PET also doesn't have the problem of temporal autocorrelation. Note that TR is meaningless for PET so the default value (or any other value) is fine. <span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><p class="line867">
<h1 id="How_do_I_analyse_a_.22sparse-sampling.22_dataset.3F">How do I analyse a &quot;sparse-sampling&quot; dataset?</h1>
<span class="anchor" id="line-17"></span><ul><li>Set the TR to be the actual time from the start of one volume to the start of the next, regardless of how long each one actually takes to acquire. <span class="anchor" id="line-18"></span></li><li>If this TR is longer than say 10s then you should probably turn off &quot;FILM prewhitening&quot; in the &quot;Stats&quot; section. <span class="anchor" id="line-19"></span></li><li>What you do next, to create the model, depends on the following. If you are always presenting the stimuli at the same point within the &quot;effective&quot; TR (which would normally be setup so that you are actually gathering data near the peak of the response) and your effective TR is long enough so that you don't have different stimulus responses getting mixed up together, then you can use the simple modelling approach below. Otherwise you need the &quot;full&quot; modelling approach. <span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span></li></ul><p class="line867">
<h2 id="SIMPLE_MODELLING">SIMPLE MODELLING</h2>
<span class="anchor" id="line-22"></span><ul><li>In this approach you can simply assume that the response to each stimulus is sampled purely by the TR following that stimulus. You can therefore use the single-column custom timing EV design, with an EV for each event type, and a 0 for all TRs except a 1 for each TR following a relevant stimulus. <span class="anchor" id="line-23"></span><span class="anchor" id="line-24"></span></li></ul><p class="line867">
<h2 id="A.22FULL.22_MODELLING">&quot;FULL&quot; MODELLING</h2>
<span class="anchor" id="line-25"></span><ul><li>The easiest way of setting up your design (in &quot;Full model setup&quot;) is to use the &quot;Custom (3 column format)&quot; option. You should keep all the defaults including normal convolution. Create a different 3-column-format text file for each event type (ie for each EV). Within each text file you put a triplet of numbers for each event. The first number in each triplet is the onset time of the event in seconds and is described in detail below. The second number is the duration of the event in seconds and should be set to the real duration. The third number is the &quot;height&quot; or &quot;strength&quot; of the event and should normally be left at &quot;1&quot;. (You could try to correct for sparse design timings using slice-timing-correction in pre-stats, but this is definitely not recommended, for various reasons, one being that this introduces extra temporal smoothness to the data.) <span class="anchor" id="line-26"></span></li><li>For sparse designs the tricky part is to set the onset timings for each event correctly. Start by setting the onset timings according to the actual time (in seconds) when the event started, where zero seconds refers to the beginning of the first &quot;TR&quot;. However, these now need correcting because of the sparse timing. Remember that FEAT assumes that all data in each volume was actually gathered instantaneously at the mid-point of that volume's TR; you now need to correct for the difference between the real TR length and the time between volumes (the latter being what you told FEAT was the TR). The timings need to be corrected by half of this difference - i.e., increased by (TR given to FEAT)/2 - (real TR)/2. See the following example: <span class="anchor" id="line-27"></span></li><li>Example. Each volume acquisition takes 3s. However, between each real volume acquisition there is 6s of non-scanning. Thus set the TR in FEAT to 9. One stimulus (event) lasted 1s and began 3s after the start of the third volume, i.e. at 21s in real time. <span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span></li></ul><p class="line867"><img align="center" alt="sparse2" class="attachment" src="attachments/FEAT(2f)FAQ/sparse1.png" title="sparse2" /> <span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span><ul><li style="list-style-type:none">Now, if you set the event in the 3-column file to &quot;21 1 1&quot; then FEAT would assume that E _began_ 1.5s _before_ the 3rd volume was acquired (because it assumes data is acquired halfway through the &quot;TR&quot;) when in fact it began 1.5s _after_. Therefore you need to adjust the timings by (9/2)-(3/2)=3s - so the triplet should be &quot;24 1 1&quot; so that the event is modelled as beginning 1.5s after the mid-point of the 9s &quot;TR&quot;. <span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span></li></ul><p class="line867"><img align="center" alt="sparse2" class="attachment" src="attachments/FEAT(2f)FAQ/sparse2.png" title="sparse2" /> <span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><ul><li style="list-style-type:none"><p class="line862">Note that you <strong>do</strong> still need to get FEAT to carry out the HRF convolution in the normal way, because the measured FMRI signal resulting from the event is still delayed and blurred as normal. <span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span></li></ul><p class="line867">
<h1 id="What_is_FLAME_and_when_do_I_use_it.3F">What is FLAME and when do I use it?</h1>
<span class="anchor" id="line-38"></span><p class="line874">FLAME (FMRIB's Local Analysis of Mixed Effects) is a sophisticated Bayesian estimation method used for higher-level mixed-effects analysis. It is recommended that FLAME is always used for higher-level analysis as it provides the most accurate statistics available in FEAT. <span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span><p class="line862">FLAME uses MH MCMC (Metropolis-Hastings Markov Chain Monte Carlo) sampling methods to generate the distribution for the higher-level contrasts of parameter estimates (copes), and then fits a general t-distribution to this. In addition, it incorporates knowledge of the first-level results, particularly the variances in order to avoid the &quot;negative variance problem&quot; (where the estimated mixed effects variance is less than the first level variance implying negative random effects variance). See the <a href="./FEAT.html">FEAT Manual</a> or <a class="http" href="http://www.fmrib.ox.ac.uk/analysis/research/feat">relevant publications</a> for more details about higher-level modelling, analysis and the use of FLAME. <span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><p class="line874">My FEAT run doesn't finish - what do I do? <span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span><p class="line862">It can take FEAT a long time to analyse large data sets, as discussed <a href="./FEAT(2f)FAQ.html#How_long_does_it_take_FEAT_to_analyse_a_data-set.3F">above</a>. Some progress should be apparent by using <em>FeatWatcher</em> or by inspecting the <tt class="backtick">report.log</tt> file. In addition, by using top the currently active process run by FEAT should be apparent. After pre-stats most of the time is spent running <tt class="backtick">film</tt> or <tt class="backtick">flame</tt> and these should have current running status if things are working correctly. If the run does not seem to be active or it does not finish after an appropriate length of time then there may be problems - refer to the <a href="./FEAT(2f)FAQ.html#A_file_not_found_error_occurs_during_my_FEAT_run_-_what_do_I_do.3F">&quot;file not found&quot;</a> question for more details on debugging FEAT sessions. <span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span><p class="line862">Also note that the FEAT GUI does not disappear once FEAT is finished but remains so that other FEAT runs can be started. To see if FEAT is finished, the best method is to load the <tt class="backtick">report.html</tt> web page inside the output <tt class="backtick">.feat</tt> or <tt class="backtick">.gfeat</tt> directory. <span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span><p class="line867">
<h1 id="A_file_not_found_error_occurs_during_my_FEAT_run_-_what_do_I_do.3F">A file not found error occurs during my FEAT run - what do I do?</h1>
<span class="anchor" id="line-49"></span><p class="line862">Errors of this type usually arise as a result of previous stages (such as certain steps in the pre-stats) failing. This can occur due to lack of disk space to write output files, or insufficient <a href="./FSL(20)FAQ.html#What_sort_of_system_requirements_does_FSL_have.3F">swap space</a> to run the necessary programs. The first thing to try once problems with disk space and swap space are ruled out is to re-run the FEAT analysis and see if the same problem occurs. If it does, check the <tt class="backtick">report.log</tt> file in the <tt class="backtick">.feat</tt> or <tt class="backtick">.gfeat</tt> output directory to see if any programs reported error messages. If an error is found then check whether that command can be run at the command line. If not, refer to debugging for that command. If the individual command can be run but not within FEAT, try setting up the entire design again from the beginning and re-running the analysis. If all else fails, email the FSL email list with details of the analysis, and attach both the <tt class="backtick">report.log</tt> and <tt class="backtick">design.fsf</tt> files. <span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span><p class="line867">
<h1 id="Can_I_ignore_time_points_or_use_a_dummy_EV_to_model_missing_values_in_FEAT.3F">Can I ignore time points or use a dummy EV to model missing values in FEAT?</h1>
<span class="anchor" id="line-52"></span><p class="line862">Yes - time points can be effectively &quot;ignored&quot; by creating a dummy EV (a confound) which has a value of one for the time point to be ignored and zero everywhere else. This can be created either as a custom input file (1 or 3 column) or using the <strong>Square</strong> wave input option and correctly setting the <strong>Skip</strong> and <strong>Stop after</strong> fields. Filtering should be applied as normal, but no convolution or temporal derivative should be set for this dummy EV. <span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><p class="line867">
<h1 id="FEAT_says_my_design_is_rank_deficient_-_why.3F">FEAT says my design is rank deficient - why?</h1>
<span class="anchor" id="line-55"></span><p class="line862">Rank Deficiency refers to the case when a combination of the EVs is equal to (or close to) zero. This often occurs in very large design matrices with temporal derivatives, as certain EVs are effectively the same as a combination of other EVs, meaning that their parameter estimates (strengths) cannot be uniquely determined. The default threshold for the rank deficiency test in FEAT is quite conservative and often the analysis can be performed successfully without problems even when the rank deficiency warning occurs (especially for ratios more than 10e-4). However, whenever the warning occurs the design matrix should be examined, together with the matrices that depict correlation and eigenvalues (see <a class="http" href="http://www.fmrib.ox.ac.uk/fslcourse/lectures/fmri/s_3330_rankdef.htm">FSL Course Slides</a> or the <a href="./FEAT.html">FEAT Manual</a> for some more information). High correlation between semantically distinct EVs (shown as light values off the diagonal in the correlation matrix) is an indication that a real problem exists in estimating parameters of the specified design and such cases need to be assessed individually. Note that in the first level analysis in FEAT all EVs are demeaned and so combinations of EVs which add up to a constant level (through time) before demeaning will end up as zero and hence be rank deficient. For higher levels the EVs are not demeaned and so it is possible to have EVs that add up to a constant, non-zero, regressor without problems of rank deficiency. <span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span><p class="line867">
<h1 id="What_contrast_should_I_use_to_get_....3F">What contrast should I use to get ...?</h1>
<span class="anchor" id="line-58"></span><p class="line862">Contrasts are used to formulate statistical questions related to the particular EVs used in an experiment. Consequently the construction of contrasts varies greatly depending on the particular experiment and question to be asked. Some standard t-contrasts exist, such as [1 0 ... 0] which asks the question &quot;when is the first EV's parameter estimate (PE) significantly greater than zero?&quot;, and similarly for [0 1 0 ... 0] for the second PE and so forth. Another common contrast is [1 -1 0 0 ... 0] which asks: &quot;when is the first PE significantly greater than the second PE?&quot;. As all t-contrasts are thresholded looking for positive t values, the previous questions refer to &quot;greater than&quot; and not &quot;less than&quot;. In order to ask &quot;less than&quot; questions, all that needs to be done is to reverse the signs in the previous contrasts. For more information on t-contrasts and on f-contrasts, refer to the <a href="./FEAT.html">FEAT Manual</a> or to any standard reference on statistics and the General Linear Model (GLM). <span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><p class="line867">
<h1 id="What.27s_the_right_terminology_for_.22sessions.22.2C_.22runs.22_etc.3F">What's the right terminology for &quot;sessions&quot;, &quot;runs&quot; etc?</h1>
<span class="anchor" id="line-61"></span><p class="line874">Of course - there's no &quot;right&quot; answer, but for consistency, let's suggest the following: <span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span><ul><li><p class="line891"><strong>Study</strong> - the period (normally between 30 minutes and 2 hours) that a subject is in the scanner. A study may consist of several sessions.... <span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span></li><li class="gap"><p class="line891"><strong>Session / series / run</strong> - a continuous run of image acquisitions, normally eventually saved by the scanner as a single raw FMRI file. A session is the smallest &quot;logical unit&quot; of FMRI data that can be analysed in its own right and would normally be saved on file (after reconstruction) as a single 4D Analyze file pair. Thus we refer to &quot;single-session&quot; or &quot;first-level&quot; analysis of such data. <span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span></li><li class="gap"><p class="line891"><strong>Block</strong> - normally a set of images during which the stimulus state is constant - either constantly at &quot;rest&quot; or in a constant state of activation. <span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span></li><li class="gap"><p class="line891"><strong>Cycle</strong> - a complete pattern of blocks. For example, if block A is rest and block B is activation, a cycle is AB, and the session might be ABABABABAB. If there is also a second kind of stimulation, C, then the cycle might be ABAC, and the session might be ABACABACABACABAC. <span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span></li></ul><p class="line862">Thus a subject goes in the scanner for a <strong>study</strong>, during which several <strong>sessions</strong> take place. Each FMRI <strong>session</strong> is made up of a continuous run of <strong>images</strong>. In the case of a block-design paradigm, the <strong>images</strong> are grouped into <strong>blocks</strong> of constant stimulus state. <span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span><p class="line867">
<h1 id="What_does_orthogonalisation_of_EVs_mean.2C_and_when_do_I_use_it.3F">What does orthogonalisation of EVs mean, and when do I use it?</h1>
<span class="anchor" id="line-74"></span><p class="line862">Orthogonalisation is a process of modifying an EV so that it does not share any common signal with the other EVs present. Technically, the vectors are altered so that they have zero dot product (i.e. are orthogonal). When applying orthogonalisation in FEAT it alters the current EV to be orthogonal to the specified EVs. This means that any signal which this EV shared with the other EVs is, after orthogonalisation, attributed <em><strong>solely</strong></em> to these other EVs. Orthogonalisation should therefore be very sparingly used, and only in situations where it is known a-priori that the enforced attribution of signal is justified scientifically.  In general it is better to avoid orthogonalisation and allow the GLM to apply the conservative approach when there is shared signal (which is only to produce significant results based on the unique components of the signal, not the shared ones). For more information on orthogonality see the <a href="./FEAT.html">FEAT Manual</a> or the <a class="http" href="http://www.fmrib.ox.ac.uk/fslcourse/lectures/fmri/s_3340_orth.htm">FSL Course Slides</a>. <span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><p class="line867">
<h1 id="When_do_you_add_temporal_derivatives_and_what_are_they_for.3F">When do you add temporal derivatives and what are they for?</h1>
<span class="anchor" id="line-77"></span><p class="line874">Temporal derivatives are used to allow the model to fit even when the timing is not exactly correct (e.g. the response is slightly before or after the specified timing). This is useful in compensating for differences between the actual and modelled HRF (Haemodynamic Response Function) as it is fitted on a per-voxel basis and so can also account for regional differences in HRF. Another common way to account for HRF differences is to use basis function sets which perform the same function although they usually also allow for substantial changes in the HRF shape as well as its timing. Technically the use of temporal derivatives is an instance of basis functions and hence the theory for their estimation is identical. <span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><p class="line867">
<h1 id="Are_the_results_obtained_using_temporal_derivatives_biased.3F">Are the results obtained using temporal derivatives biased?</h1>
<span class="anchor" id="line-80"></span><p class="line874">There is no bias in the null distribution for the results from using temporal derivatives, and therefore all the statistics are valid.  However, the estimation of the effect size does suffer from some bias due to the sampling of the HRF, which is not overcome by temporal derivatives.  This results in the higher-level analysis having different sensitivity in different regions.  Such different sensitivity is normal in fMRI and is also caused by varying SNR with coil arrays, physiological noise effects, susceptibility-induced distortions and signal loss, to name only a few causes. <span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span><p class="line862">It is possible to form non-standard statistics (e.g. peak values, RMS of EV combination, etc.) that can reduce the estimation bias, although they require specialised inference. This is the same methodology used for general HRF basis functions (since temporal derivatives are just a special case of basis functions).  See the section on <a href="./FLOBS.html#GroupLevel">Group Level Basis Functions</a> for more information. <span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span><p class="line867">
<h1 id="What_are_the_red_lines_in_the_registration_results.3F">What are the red lines in the registration results?</h1>
<span class="anchor" id="line-85"></span><p class="line874">The red lines are edges from one image overlaid on top of the usual grey-scale view of the other image. This is used to assess the registration quality - a good registration should align the red lines with the structural boundaries (major changes in grey-level) of the other image. If there is substantial visible mis-alignment (e.g. in the ventricle boundaries) then alternative settings of the registration should be tried to improve the registration. <span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><p class="line867">
<h1 id="Can_I_use_my_own_.28study-specific.29_template_image_instead_of_the_avg152.3F">Can I use my own (study-specific) template image instead of the avg152?</h1>
<span class="anchor" id="line-88"></span><p class="line862">Yes - simply replace the standard image (<tt class="backtick">avg152T1_brain</tt>) in the Registration tab with your own image. NB: make sure that the template and input images have the same <a href="./FSL(20)FAQ.html#How_do_I_know_right_from_left_in_the_images.3F">left/right convention</a>. <span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><p class="line867">
<h1 id="Are_the_mm_coordinates_reported_by_FEAT_in_MNI_space_or_Talariach_space.3F">Are the mm coordinates reported by FEAT in MNI space or Talariach space?</h1>
<span class="anchor" id="line-91"></span><p class="line874">Technically they are in MNI space although most of the documentation, as well as many publications, refer to it still as &quot;Talairach&quot; space. <span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><p class="line867">
<h1 id="How_can_I_insert_a_custom_registration_into_a_FEAT_analysis.3F">How can I insert a custom registration into a FEAT analysis?</h1>
<span class="anchor" id="line-94"></span><p class="line874">If you want to run any custom registrations outside of FEAT then you should do the following in order to re-generate the FEAT registration images and co-ordinate tables: <span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><ul><li>First run FEAT including the normal FEAT registration. <span class="anchor" id="line-97"></span></li><li><p class="line862">According to which part of the registration chain you want to amend, overwrite <tt class="backtick">example_func2highres.mat,&nbsp;highres2standard.mat,&nbsp;example_func2highres_warp.nii.gz,&nbsp;highres2standard_warp.nii.gz,&nbsp;example_func2initial_highres.mat</tt> or <tt class="backtick">initial_highres2highres.mat</tt> in the reg directory inside the FEAT output directory (note that some of these will probably not exist, depending on the options you have chosen). <span class="anchor" id="line-98"></span></li><li><p class="line862">Run <tt class="backtick">updatefeatreg&nbsp;&lt;featdir.feat&gt;&nbsp;-gifs</tt> - this generates all the other transforms and registration summary images. <span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span></li><li class="gap"><p class="line862">Start <tt class="backtick">Feat</tt> and change the mode to run <tt class="backtick">Post-stats</tt> only. Select the FEAT output directory as input. Go into the registration tab and turn off all registration. Press GO. This will regenerate the tables with activation co-ordinates in them. <span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span></li></ul><p class="line867">
<h1 id="How_do_I_run_FEAT_on_single-slice_data.3F">How do I run FEAT on single-slice data?</h1>
<span class="anchor" id="line-103"></span><p class="line874">The current version of FEAT works with single-slice data in the same way as normal multi-slice data. It does not require any special settings. <span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span><p class="line867">
<h1 id="How_do_I_run_higher-level_FEAT_when_some_inputs_are_first-level_and_some_are_higher-level.3F">How do I run higher-level FEAT when some inputs are first-level and some are higher-level?</h1>
<span class="anchor" id="line-106"></span><p class="line874">For example, if you have some subjects where you have just a single session, and some where you have a couple, and you want to do a multi-subject higher-level analysis: <span class="anchor" id="line-107"></span><span class="anchor" id="line-108"></span><ul><li>Run all first-level FEAT analyses for all sessions and all subjects, including running the normal registration. <span class="anchor" id="line-109"></span></li><li><p class="line862">For each subject with more than one scan, run a higher-level analysis for that subject's sessions, using <strong>fixed-effects</strong> stats option. Use a group-mean model (i.e., single EV, all 1s in that EV and a single contrast with a single 1 in it). <span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span></li><li class="gap">Now do the multi-subject higher-level analysis: Select the &quot;Inputs are 3D cope images&quot; input option. For the single-session subjects, choose the relevant subject.feat/stats/copeN image as input, and for the multi-session FEATs that you have just run, select the relevant subject.gfeat/copeN.feat/stats/cope1 image (note that N will be the same in both cases). The rest of the higher-level settings are as normal. <span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span></li></ul><p class="line867">
<h1 id="How_are_motion_parameters_and_other_confound_EV_files_processed_with_respect_to_filtering.3F">How are motion parameters and other confound EV files processed with respect to filtering?</h1>
<span class="anchor" id="line-114"></span><p class="line874">All EVs will be filtered to match the processing applied to the input data <span class="anchor" id="line-115"></span><span class="anchor" id="line-116"></span><p class="line867">
<h1 id="Can_I_use_an_old_design.fsf_-_from_a_previous_version_of_FSL.3F">Can I use an old design.fsf - from a previous version of FSL?</h1>
<span class="anchor" id="line-117"></span><p class="line862">We try to make things backwards compatible, so hopefully this should be possible - let us know if there are problems.  You should always pass an old <tt>design.fsf</tt> through the GUI (i.e., load it into the GUI before running or saving), rather than trying to run it (e.g., with the <tt>feat</tt> script) directly from the command line. <span class="anchor" id="line-118"></span><span class="anchor" id="line-119"></span><p class="line874">If you load an old setup into FEAT, you should have a look through all the GUI sections, to check that things seem to be setup correctly. <span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span><p class="line867"><hr /><p class="line874"> <span class="anchor" id="line-122"></span>CategoryFAQ <a href="./CategoryFEAT.html">CategoryFEAT</a> <span class="anchor" id="line-123"></span><span class="anchor" id="bottom"></span></div>
</div>
<hr>
2017-04-20 13:28
</body>
</html>
