<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>FSL FAQ</title>
<link rel="stylesheet" type="text/css" media="all" charset="utf-8" href="fsl/css/common.css">
<link rel="stylesheet" type="text/css" media="screen" charset="utf-8" href="fsl/css/screen.css">
<link rel="stylesheet" type="text/css" media="print" charset="utf-8" href="fsl/css/print.css">
<style type="text/css">
ul.pagetitle{
  display: inline;
  margin: 0;
  padding: 0;
  font-size: 1.5em;
}
li.pagetitle{
  display: inline;
  margin: 0;
}
td.noborder {
  border: 0;
}
</style>
</head>
<body>
<table>
<tr>
<td class="noborder">
<img src="logo.png">
</td>
<td class="noborder">
<ul class="pagetitle">
<li class="pagetitle"><a class="backlink">FSL FAQ</a>
</ul>
<br><br>
[<a href="FSL.html">FSL</a>]&nbsp;[<a href="TitleIndex.html">TitleIndex</a>]&nbsp;[<a href="WordIndex.html">WordIndex</a>]&nbsp;
</td>
</tr>
</table>
<hr>
<div id="page">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867"><div class="table-of-contents"><p class="table-of-contents-heading">Contents<ol><li>
<a href="#General">General</a><ol><li>
<a href="#Where_can_I_find_help.2C_tutorials_or_papers_about_FSL.3F">Where can I find help, tutorials or papers about FSL?</a></li><li>
<a href="#How_do_I_best_report_problems_to_the_FSL_email_list.3F">How do I best report problems to the FSL email list?</a></li><li>
<a href="#What_image_format_does_FSL_need.3F">What image format does FSL need?</a></li><li>
<a href="#How_do_I_convert_between_3D_and_4D_NIFTI_images.3F">How do I convert between 3D and 4D NIFTI images?</a></li><li>
<a href="#How_can_I_modify_the_orientation_of_my_data.3F">How can I modify the orientation of my data?</a></li><li>
<a href="#How_do_I_know_right_from_left_in_the_images.3F">How do I know right from left in the images?</a></li><li>
<a href="#How_do_I_run_the_GUIs_or_command_lines.3F">How do I run the GUIs or command lines?</a></li><li>
<a href="#How_do_I_get_my_command_line_to_run.3F">How do I get my command line to run?</a></li><li>
<a href="#How_can_I_make_old_scripts_work_with_FSL.3E.3D3.2.3F">How can I make old scripts work with FSL&gt;=3.2?</a></li></ol></li><li>
<a href="#Installation">Installation</a><ol><li>
<a href="#What_sort_of_system_requirements_does_FSL_have.3F">What sort of system requirements does FSL have?</a></li><li>
<a href="#How_can_I_test_if_my_installation_works.3F">How can I test if my installation works?</a></li><li>
<a href="#How_do_I_get_and_run_FEEDS.3F">How do I get and run FEEDS?</a></li><li>
<a href="#Why_does_an_FSL_program_crash_when_it_is_trying_to_process_a_very_large_dataset.3F">Why does an FSL program crash when it is trying to process a very large dataset?</a></li></ol></li></ol></div> <span class="anchor" id="line-2"></span>
<h1 id="General">General</h1>
<span class="anchor" id="line-3"></span><p class="line867">
<h2 id="Where_can_I_find_help.2C_tutorials_or_papers_about_FSL.3F">Where can I find help, tutorials or papers about FSL?</h2>
<span class="anchor" id="line-4"></span><p class="line862">Every installation of FSL comes with html documentation in <tt class="backtick">$FSLDIR/doc</tt> In addition, there are general FSL web pages, including some documentation and related references, at <a class="http" href="http://www.fmrib.ox.ac.uk/fsl">http://www.fmrib.ox.ac.uk/fsl</a> <span class="anchor" id="line-5"></span><span class="anchor" id="line-6"></span><p class="line862">A tutorial-based set of lecture slides and practicals can be found at <a class="http" href="http://www.fmrib.ox.ac.uk/fslcourse">http://www.fmrib.ox.ac.uk/fslcourse</a> and is related to the content of the FSL/Freesurfer course which is held once or twice each year - see <a class="http" href="http://www.fmrib.ox.ac.uk/fslcourse/announce.html">http://www.fmrib.ox.ac.uk/fslcourse/announce.html</a> for details on upcoming/recent courses. <span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span><p class="line862">Further help can also be obtained via the public <a class="http" href="http://www.jiscmail.ac.uk/lists/fsl.html">FSL email list</a>. Note that you must join the list in order to post questions. <span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span><p class="line862">Finally, detailed technical reports can be found at <a class="http" href="http://www.fmrib.ox.ac.uk/analysis/techrep/">http://www.fmrib.ox.ac.uk/analysis/techrep/</a> and a full list of conference and journal papers produced by the FMRIB Analysis Group can be found at <a class="http" href="http://www.fmrib.ox.ac.uk/analysis/fmribindex/">http://www.fmrib.ox.ac.uk/analysis/fmribindex/</a>. <span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span><p class="line867">
<h2 id="How_do_I_best_report_problems_to_the_FSL_email_list.3F">How do I best report problems to the FSL email list?</h2>
<span class="anchor" id="line-13"></span><p class="line874">In order to understand and analyse problems please provide the following pieces of information: <span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><ul><li>What part of FSL did not work as expected? <span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span></li></ul><p class="line874">In the case of FEAT / MELODIC problems, please check the log (report.log/melodic.log) files first, e.g. you might be out of space or certain files might actually not be readable. <span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span><ul><li>What type of input data were you running the sofware on? <span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span></li></ul><p class="line862">Please make sure that the data is not corrupted: check your input data by loading it into <tt class="backtick">fslview</tt> (or <tt class="backtick">slices</tt>). If your input data is not what you expect, try and fix this first. You can also obtain useful header information with <tt class="backtick">fslhd&nbsp;filename</tt> and useful information about the image intensity range from <tt class="backtick">fslstats&nbsp;-r&nbsp;-R</tt>. If you need to report a problem, please provide this information in an email. <span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span><ul><li>Does the software run on the FEEDS example data? <span class="anchor" id="line-24"></span></li><li><p class="line862">If you cannot resolve the problem then please run the command: <tt class="backtick">fslerrorreport</tt> in the directory that the problem occurred. The output from this gives information on log files, the platform are you running FSL on: CPU type, OS type &amp; version, how much RAM, Swap space etc. is available, etc. <span class="anchor" id="line-25"></span><span class="anchor" id="line-26"></span></li></ul><p class="line867"><strong>Please attach the entire output of this command to your email</strong>.  Note that the output is written to a file in /tmp (filename is given at the end of the output message) for convenience in attaching it to an email.  Also, please be as specific as possible about command line error messages. <span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span><p class="line867"><strong>NOTE</strong>: Please do not send Analyze/NIFTI files (AVW/NII) to the email list; If these are needed to resolve the problem, place them somewhere to download! <span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span><p class="line867">
<h2 id="What_image_format_does_FSL_need.3F">What image format does FSL need?</h2>
<span class="anchor" id="line-31"></span><p class="line862">FSL programs expect to read NIFTI-1 format images. These files can be read and written in compressed (gzip format) or uncompressed form. To convert between these different formats, use the <tt class="backtick">fslchfiletype</tt> utility or the environment variable FSLOUTPUTTYPE. These are described more fully in the <a class="http" href="http://www.fmrib.ox.ac.uk/fsl/fsl/formats.html">nifti1</a> page. <span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span><p class="line874">An image can be 2D or 3D or 4D (multiple time points). <span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><p class="line874">FSL programs for FMRI analysis use single 4D NIFTI images, not lots of 3D images (such as SPM does). <span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span><p class="line862">You will need some other program to convert between formats (e.g. DICOM). A list of such converters can be found at: <a class="http" href="http://www.sph.sc.edu/comd/rorden/mricron/dcm2nii.html">http://www.sph.sc.edu/comd/rorden/mricron/dcm2nii.html</a> <span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span><p class="line867">
<h2 id="How_do_I_convert_between_3D_and_4D_NIFTI_images.3F">How do I convert between 3D and 4D NIFTI images?</h2>
<span class="anchor" id="line-40"></span><p class="line862">In order to convert between multiple 3D and single 4D images, use the following programs (found in <tt class="backtick">$FSLDIR/bin</tt>): <span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><p class="line862">3D -&gt; 4D <span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span><ul><li style="list-style-type:none"><p class="line891"><tt class="backtick">fslmerge&nbsp;-t&nbsp;outputname&nbsp;in1&nbsp;in2&nbsp;.......&nbsp;inN</tt> <span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span></li></ul><p class="line874">note that if your 3D files have numbers that are zero padded (eg in0001 etc.) then you can do this more easily. For example, with Analyze files: <span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span><ul><li style="list-style-type:none"><p class="line891"><tt class="backtick">fslmerge&nbsp;-t&nbsp;outputname&nbsp;in*.hdr&nbsp;will&nbsp;work.</tt> <span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span></li></ul><p class="line862">In general, due to the multiple file formats, we recommend using the utility <tt class="backtick">imglob</tt> for getting filenames. For example: <span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><ul><li style="list-style-type:none"><p class="line891"><tt>fslmerge&nbsp;-t&nbsp;outputname&nbsp;`imglob&nbsp;-oneperimage&nbsp;in*`</tt> <span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span></li></ul><p class="line874">(NB: the above command contains backquotes, not forward quotes) <span class="anchor" id="line-55"></span><span class="anchor" id="line-56"></span><p class="line862">4D -&gt; 3D <span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><ul><li style="list-style-type:none"><p class="line891"><tt class="backtick">fslsplit&nbsp;input</tt> <span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span></li></ul><p class="line874">this program automatically chooses the output name. <span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><p class="line867">
<h2 id="How_can_I_modify_the_orientation_of_my_data.3F">How can I modify the orientation of my data?</h2>
<span class="anchor" id="line-63"></span><p class="line862">Please look at the &quot;Orientation-related Utilities&quot; section of the <a class="nonexistent" href="./FSLUTILS.html">FSLUTILS</a> documentation page. <span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><p class="line867">
<h2 id="How_do_I_know_right_from_left_in_the_images.3F">How do I know right from left in the images?</h2>
<span class="anchor" id="line-66"></span><p class="line862">Look at the labels in FSLView. For more information about orientation, the NIfTI format and FSLView display, see the &quot;Orientation-related Utilities&quot; and &quot;Background information on NIfTI Orientation&quot; sections of the <a class="nonexistent" href="./FSLUTILS.html">FSLUTILS</a> documentation page. <span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><p class="line867">
<h2 id="How_do_I_run_the_GUIs_or_command_lines.3F">How do I run the GUIs or command lines?</h2>
<span class="anchor" id="line-69"></span><p class="line874">On most machines the GUIs can be run by: <span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><ul><li><p class="line862">Typing <tt class="backtick">fsl</tt> at the (terminal/shell) prompt, which brings up a graphical menu of the main FSL GUIs <span class="anchor" id="line-72"></span></li><li><p class="line862">Typing the name of the required program, with the <em>first letter capitalised</em>: e.g. <tt class="backtick">Flirt</tt> <span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span></li></ul><p class="line874">However, under MacOSX the GUIs are run by: <span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><ul><li>Typing fsl_gui at the (terminal/shell) prompt, which brings up a graphical menu of the main FSL GUIs <span class="anchor" id="line-77"></span></li><li><p class="line862">Typing the name of the required program, with the first letter capitalised followed by <tt class="backtick">_gui</tt>: e.g. <tt class="backtick">Flirt_gui</tt> <span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span></li></ul><p class="line862">On all machines, the command line versions can be run by typing the name of the program, all in lower case: e.g. <tt class="backtick">flirt</tt> Note: with no arguments the command line versions return a help statement that includes usage lines and available options. <span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><p class="line867">
<h2 id="How_do_I_get_my_command_line_to_run.3F">How do I get my command line to run?</h2>
<span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span><p class="line874">Many things might be the cause of this, but the following list covers the vast majority of problems: <span class="anchor" id="line-84"></span><ul><li>Check that you have setup FSL correctly <span class="anchor" id="line-85"></span></li><li>Check that you are setting all the compulsory arguments <span class="anchor" id="line-86"></span></li><li>Check that you can find the files that you are specifying and/or that you are in the right directory <span class="anchor" id="line-87"></span></li><li><p class="line862">If using a double minus option that takes an argument, make sure you use an equals sign and no spaces (e.g. --start=2 ).  This often causes the error <tt class="backtick">Missing&nbsp;non-optional&nbsp;argument!</tt> when a space is used incorrectly. <span class="anchor" id="line-88"></span></li><li>Check for typos and be particularly careful about confusing the number 1 and the lowercase letter L <span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span></li></ul><p class="line867">
<h2 id="How_can_I_make_old_scripts_work_with_FSL.3E.3D3.2.3F">How can I make old scripts work with FSL&gt;=3.2?</h2>
<span class="anchor" id="line-91"></span><p class="line862">Due to the use of new file formats, with different extensions, most scripts need some modification to work fully with FSL&gt;=3.2. However, the changes are relatively straightforward and are described in a separate <a class="http" href="http://www.fmrib.ox.ac.uk/fslfaq/scripting.html">scripting page</a>. <span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><p class="line867">
<h1 id="Installation">Installation</h1>
<span class="anchor" id="line-94"></span><p class="line874">How do I install (or compile) FSL? <span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><p class="line862">Instructions on downloading and installing FSL can be found at: <a class="http" href="http://www.fmrib.ox.ac.uk/fsl/fsl/downloading.html">http://www.fmrib.ox.ac.uk/fsl/fsl/downloading.html</a>  Instructions on compiling FSL can be found at: <a class="http" href="http://www.fmrib.ox.ac.uk/fsl/fsl/compiling.html">http://www.fmrib.ox.ac.uk/fsl/fsl/compiling.html</a> <span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span><p class="line874">Note the special instructions for installing on MacOSX and Windows. <span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><p class="line862">Note that you <strong>must</strong> set up the environment variable <tt class="backtick">FSLDIR</tt> to point to the directory where FSL is installed on your machine. <strong>It is also necessary to source a setup file</strong>. This can be done by: <span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><ul><li><p class="line891"><em>bash users</em>: <tt class="backtick">.&nbsp;$FSLDIR/etc/fslconf/fsl.sh</tt><br>
 <span class="anchor" id="line-103"></span></li><li><p class="line891"><em>tcsh users</em>: <tt class="backtick">source&nbsp;$FSLDIR/etc/fslconf/fsl.csh</tt> <span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span></li></ul><p class="line862">Also, you would normally want to include <tt class="backtick">$FSLDIR/bin</tt> in your PATH. In general these are best done in your shell startup file (e.g. <tt class="backtick">.bashrc</tt> or <tt class="backtick">.profile</tt>). The syntax required depends on the shell you use, but is normally either one of the following (where <tt class="backtick">/usr/local/fsl</tt> is used as an example for the installation location): <span class="anchor" id="line-106"></span><span class="anchor" id="line-107"></span><ul><li><p class="line891"><em>bash users</em>: <tt class="backtick">export&nbsp;FSLDIR=/usr/local/fsl;&nbsp;.&nbsp;$FSLDIR/etc/fslconf/fsl.sh&nbsp;;&nbsp;export&nbsp;PATH=$PATH:$FSLDIR/bin;</tt> <span class="anchor" id="line-108"></span></li><li><p class="line891"><em>tcsh users</em>: <tt class="backtick">setenv&nbsp;FSLDIR&nbsp;/usr/local/fsl;&nbsp;source&nbsp;$FSLDIR/etc/fslconf/fsl.csh&nbsp;;&nbsp;setenv&nbsp;PATH&nbsp;${PATH}:$FSLDIR/bin;&nbsp;rehash;</tt> <span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span></li></ul><p class="line867">
<h2 id="What_sort_of_system_requirements_does_FSL_have.3F">What sort of system requirements does FSL have?</h2>
<span class="anchor" id="line-111"></span><p class="line874">FSL is supported on the following hardware: Linux, Mac, Windows running a Linux Virtual Machine. FSL is supported for the following operating systems: Linux (Cent OS 4 and 5, Debian/Ubuntu), MacOS X 10.5 and 10.6, Windows XP (with VMplayer) <span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span><p class="line874">Note: that FSL also works with other flavours of Linux such as SuSE - although they may need to be built from source rather than using the precompiled Cent OS binaries. <span class="anchor" id="line-114"></span><span class="anchor" id="line-115"></span><p class="line874">It is recommended that the following memory and disk requirements are met: <span class="anchor" id="line-116"></span><span class="anchor" id="line-117"></span><ul><li>RAM - 1GB or more (at least 2GB if running a virtual machine on Windows) <span class="anchor" id="line-118"></span></li><li>Swap space - at least equal to RAM (2GB min recommended; check with top) <span class="anchor" id="line-119"></span></li><li>Disk space - at least 10 times the size of your data sets <span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span></li></ul><p class="line874">Be warned that too little swap space causes &quot;unexplained&quot; crashes! <span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><p class="line867">
<h2 id="How_can_I_test_if_my_installation_works.3F">How can I test if my installation works?</h2>
<span class="anchor" id="line-124"></span><p class="line862">Download and run the FSL Evaluation and Example Data Suite (FEEDS). See also: <a href="./FSL(20)FAQ.html#How_do_I_get_and_run_FEEDS.3F">How do I get and run FEEDS</a>? <span class="anchor" id="line-125"></span><span class="anchor" id="line-126"></span><p class="line867">
<h2 id="How_do_I_get_and_run_FEEDS.3F">How do I get and run FEEDS?</h2>
<span class="anchor" id="line-127"></span><p class="line862">Information on how to run the FSL Evaluation and Example Data Suite (useful for testing that your installation is working and to get a benchmark for speed) can be found at: <a class="http" href="http://www.fmrib.ox.ac.uk/fsl/feeds/doc/index.html">http://www.fmrib.ox.ac.uk/fsl/feeds/doc/index.html</a> <span class="anchor" id="line-128"></span><span class="anchor" id="line-129"></span><p class="line862">This site includes a link to the download URL at: <a class="http" href="http://www.fmrib.ox.ac.uk/fsldownloads">http://www.fmrib.ox.ac.uk/fsldownloads</a> <span class="anchor" id="line-130"></span><span class="anchor" id="line-131"></span><p class="line862">A timing table using FEEDS as a benchmark for comparing relative performance between machines can be found at: <a class="http" href="http://www.fmrib.ox.ac.uk/fsl/feeds/doc/timings.html">http://www.fmrib.ox.ac.uk/fsl/feeds/doc/timings.html</a> <span class="anchor" id="line-132"></span><span class="anchor" id="line-133"></span><p class="line867">
<h2 id="Why_does_an_FSL_program_crash_when_it_is_trying_to_process_a_very_large_dataset.3F">Why does an FSL program crash when it is trying to process a very large dataset?</h2>
<span class="anchor" id="line-134"></span><p class="line874">Certain programs in FSL can require a large amount of memory (RAM) to run, depending on the size of the data that you are trying to analyse. For example: <span class="anchor" id="line-135"></span><span class="anchor" id="line-136"></span><ul><li>FMRI timeseries analysis with FILM (called by FEAT), if you have a large number of timepoints and/or regressors <span class="anchor" id="line-137"></span></li><li>FMRI timeseries analysis with MELODIC, if you have a large number of timepoints <span class="anchor" id="line-138"></span></li><li>FMRI multi-subject analysis with MELODIC, if you have a large image matrix or large number of timepoints or subjects <span class="anchor" id="line-139"></span></li><li>DTI FA analysis with TBSS (at the stage of running tbss_skeleton or randomise) if you have a large number of subjects <span class="anchor" id="line-140"></span><span class="anchor" id="line-141"></span></li></ul><p class="line874">The memory available to a program depends on how much physical RAM you have on your computer, what other programs are already running, and how much &quot;virtual memory&quot; (swap) you have configured. Swap is hard disk space that is used to act as additional memory on top of your actual memory, allowing programs larger than your physical memory to run, but much more slowly. Hence, if your program is running out of memory you should consider increasing your physcial RAM and/or your swap space (the latter is cheaper but a slower solution). Your local sysadmin can easily increase swap space if you have spare hard disk space available. <span class="anchor" id="line-142"></span><span class="anchor" id="line-143"></span><p class="line874">However, there is one further caveat. On 32-bit computers there is a limit on the size that a single program can be, regardless of how much RAM/swap you have. This limit is normally 2GB. The best solution to this is to move to a 64-bit computer (for example, all Apple computers are now 64-bit, and it is easy to find cheap 64-bit PCs to install 64-bit Linux on). On a 64-bit computer, as long as you have enough RAM/swap, there is effectively no limit to the size of the programs that you can run. <span class="anchor" id="line-144"></span><span class="anchor" id="line-145"></span><p class="line867"><hr /><p class="line874"> <span class="anchor" id="line-146"></span><a class="nonexistent" href="./CategoryFAQ.html">CategoryFAQ</a> <span class="anchor" id="line-147"></span><span class="anchor" id="bottom"></span></div>
</div>
<hr>
2017-04-20 13:28
</body>
</html>
